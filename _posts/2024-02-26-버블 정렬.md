---
title: "버블 정렬"
categories: "algorithm"
tag: [algorithm]
toc: true
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bubble Sort Visualization</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
    }
    .input-container {
      margin-bottom: 20px;
    }
    .button {
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .button:hover {
      background-color: #0056b3;
    }
    #chart-container {
      margin-top: 30px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }
    .bar {
      position: relative;
      width: 20px;
      margin: 0 2px;
      background-color: steelblue;
      transition: height 0.5s ease;
      border-radius: 5px 5px 0 0;
    }
    .bar span {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
    }
    .bar.active {
      background-color: tomato;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Bubble Sort Visualization</h2>
    <div class="input-container">
      <label for="data-input">Enter numbers (comma-separated):</label><br>
      <input type="text" id="data-input">
      <button class="button" onclick="addData()">Add Data</button>
      <button class="button" onclick="resetData()">Reset Data</button>
    </div>
    <button class="button" onclick="sortData()">Sort Data</button>
    <button class="button" onclick="nextCycle()">Next Cycle</button>
    <div id="chart-container"></div>
  </div>

  <script>
    let data = [];
    let currentStep = 0;

    function drawChart() {
      const chartContainer = document.getElementById('chart-container');
      chartContainer.innerHTML = '';
      const maxValue = Math.max(...data);
      data.forEach((value, index) => {
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = `${(value / maxValue) * 100}%`; // Adjust height for visualization
        bar.innerHTML = `<span>${value}</span>`;
        chartContainer.appendChild(bar);
      });
    }

    function addData() {
      const input = document.getElementById('data-input').value.trim();
      const newData = input.split(',').map(str => parseInt(str.trim()));
      data = data.concat(newData.filter(num => !isNaN(num)));
      drawChart();
    }

    function resetData() {
      data = [];
      drawChart();
    }

    async function sortData() {
      currentStep = 0;
      for (let i = 0; i < data.length - 1; i++) {
        for (let j = 0; j < data.length - 1 - i; j++) {
          if (data[j] > data[j + 1]) {
            await sleep(100); // Adjust speed of sorting
            const temp = data[j];
            data[j] = data[j + 1];
            data[j + 1] = temp;
            drawChart();
          }
        }
      }
    }

    function nextCycle() {
      if (currentStep >= data.length - 1) return;
      for (let j = 0; j < data.length - 1 - currentStep; j++) {
        if (data[j] > data[j + 1]) {
          const temp = data[j];
          data[j] = data[j + 1];
          data[j + 1] = temp;
        }
      }
      currentStep++;
      drawChart();
    }

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }
  </script>
</body>
</html>
