---
title: "버블 정렬"
categories: "algorithm"
tag: [algorithm]
toc: true
---

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bubble Sort Visualization</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    h2 {
      color: #007bff;
    }
    .input-container {
      margin-bottom: 20px;
    }
    .button {
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-right: 10px;
    }
    .button:hover {
      background-color: #0056b3;
    }
    #chart-container {
      margin-top: 30px;
      position: relative;
      height: 300px; /* Adjust height for visualization */
      background-color: #f0f0f0;
      border-radius: 5px;
      padding: 10px;
    }
    .bar {
      position: absolute;
      bottom: 0;
      background-color: #007bff;
      margin-right: 10px;
      transition: height 0.5s ease-in-out;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Bubble Sort Visualization</h2>
    <div class="input-container">
      <label for="data-input">Enter numbers (comma-separated):</label><br>
      <input type="text" id="data-input">
      <button class="button" onclick="addData()">Add Data</button>
      <button class="button" onclick="resetData()">Reset Data</button>
    </div>
    <button class="button" onclick="sortData()">Sort Data</button>
    <button class="button" onclick="nextCycle()">Next Cycle</button>
    <div id="chart-container"></div>
  </div>

  <script>
    let data = [];
    let currentStep = 0;

    function drawChart() {
      const chartContainer = document.getElementById('chart-container');
      chartContainer.innerHTML = '';
      const maxValue = Math.max(...data);
      data.forEach((value, index) => {
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = `${(value / maxValue) * 100}%`; // Adjust height for visualization
        bar.style.width = `${100 / data.length}%`;
        bar.style.left = `${(index * 100) / data.length}%`;
        bar.style.transformOrigin = `bottom`;
        bar.style.transform = `scaleY(${(value / maxValue) * 100})`;
        bar.textContent = value;
        chartContainer.appendChild(bar);
      });
    }

    function addData() {
      const input = document.getElementById('data-input').value.trim();
      const newData = input.split(',').map(str => parseInt(str.trim()));
      data = data.concat(newData.filter(num => !isNaN(num)));
      drawChart();
    }

    function resetData() {
      data = [];
      drawChart();
    }

    async function sortData() {
      currentStep = 0;
      for (let i = 0; i < data.length - 1; i++) {
        for (let j = 0; j < data.length - 1 - i; j++) {
          // Highlighting bars being compared in orange
          const bars = document.querySelectorAll('.bar');
          bars[j].style.backgroundColor = '#FFA500';
          bars[j + 1].style.backgroundColor = '#FFA500';
          
          if (data[j] > data[j + 1]) {
            await sleep(100); // Adjust speed of sorting
            const temp = data[j];
            data[j] = data[j + 1];
            data[j + 1] = temp;
            drawChart();
          }

          // Reset colors after comparison
          bars[j].style.backgroundColor = '#007bff';
          bars[j + 1].style.backgroundColor = '#007bff';
        }
      }
    }

    function nextCycle() {
      if (currentStep >= data.length - 1) return;
      for (let j = 0; j < data.length - 1 - currentStep; j++) {
        // Highlighting bars being compared in orange
        const bars = document.querySelectorAll('.bar');
        bars[j].style.backgroundColor = '#FFA500';
        bars[j + 1].style.backgroundColor = '#FFA500';

        if (data[j] > data[j + 1]) {
          const temp = data[j];
          data[j] = data[j + 1];
          data[j + 1] = temp;
          drawChart();
        }

        // Reset colors after comparison
        bars[j].style.backgroundColor = '#007bff';
        bars[j + 1].style.backgroundColor = '#007bff';
      }
      currentStep++;
    }

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }
  </script>
</body>
</html>
